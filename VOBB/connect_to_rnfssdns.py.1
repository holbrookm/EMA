#!/usr/bin/python

""" This script will access the RNF ssDNS via ssh.
    This will test Ivica's xml for vobb.
    # 0851742253
    # <mholbrook@eircom.ie>

 WEB PAGE INFO : 10.144.134.36:8080/ipworks/webapp/login
"""
from __future__ import print_function

import subprocess
import sys
import pysftp
import paramiko
import requests
import sys
from requests.auth import HTTPBasicAuth
import ema_functions as ema
import class_ims_ema as ims



sys.path.insert(0, '/home/ema-gui/emalive')


rnf_ss_dns = '10.144.134.36'
username = 'root'
password = 'root'
key_pass = 'ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAIEArwDNasQJeYTlujxlf0Y1mXuUS4fmnTcBKNUSq7QVJ5wiL7KeomVcFJD8tLbgRq3VBGQ99cYiqPm5tFoxawwPJkSbZmQHcEdpJhUijfxUIYPunohk/O0JEEGmxii8va1t3ZoKU24xVNTS+zzrdQTXlmhni+MlhZpnO6DEZ2YI8qU='
"""
port = 22
connection = str(username + '@' + rnf_ss_dns)

COMMAND = "uname -a"

ssh = subprocess.Popen(["ssh", "%s"  % connection , COMMAND], shell = False, stdout = subprocess.PIPE, stderr = subprocess.PIPE)
result = ssh.stdout.readlines()
if result == []:
    error = ssh.stderr.readlines()
    print >>sys.stderr, "ERROR: %s" % error
else: 
    print result
"""

print ('#######################################')

srv = pysftp.Connection(host = rnf_ss_dns, username = username, password = password, private_key_pass = key_pass )
print (srv.execute('ls -al'))


